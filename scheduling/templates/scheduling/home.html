{% extends "scheduling/base.html" %}
{% block title %}Weeks{% endblock %}
{% block content %}
<div class="bg-white rounded-xl shadow p-4">
    <h1 class="text-xl font-semibold">Open week (Monday → Sunday)</h1>
    <p class="text-sm text-gray-600 mt-1">Pick any date, the app opens that week’s Monday schedule.</p>

    <form method="post" class="mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3 items-end">
        {% csrf_token %}
        <div class="sm:col-span-2">
            <label class="text-sm text-gray-600">Date</label>
            <input type="date" name="date" value="{{ today }}" class="w-full rounded border px-3 py-2">
        </div>
        <button name="open_week" value="1" class="rounded bg-black text-white px-4 py-2">
            Create / Open
        </button>
    </form>
</div>

<div class="bg-white rounded-xl shadow p-4 mt-4">
    <h2 class="font-semibold">Recent weeks</h2>
    <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2">
        {% for w in weeks %}
            <a class="rounded border bg-white hover:bg-gray-50 px-3 py-3"
               href="/schedule/week/{{ w.week_start|date:'Y-m-d' }}/">
                <div class="text-sm font-semibold">Week {{ w.week_start|date:"d M Y" }} – {{ w.week_end|date:"d M Y" }}</div>
                <div class="text-xs text-gray-600">{{ w.week_start }} → {{ w.week_end }}</div>
            </a>
        {% empty %}
            <div class="text-sm text-gray-500">No weeks yet.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}
